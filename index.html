<html>
    <head>
        <title>Laporan Makan Kucing Periode 2025</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="">
            <h2 class="text-2xl font-bold text-center mb-4">Laporan Terkini</h2>
            <div class="box">
                <div class="mt-8">
                    <div id="reports" class="space-y-4">
                    </div>
                </div>
        </div>
            <script src="https://cdn.commoninja.com/sdk/latest/commonninja.js" defer></script>
<div class="commonninja_component pid-aacdc1cb-1c37-416b-a63e-abd05f7deaec"></div>
        <script type="module">
            import { initializeApp } from "https://www.gstatic.com/firebasejs/11.3.0/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.3.0/firebase-analytics.js";
            import { getDatabase, set, ref, push, child, onValue } from "https://www.gstatic.com/firebasejs/11.3.0/firebase-database.js";

            const firebaseConfig = {
                apiKey: "AIzaSyCN8RWH8Qu8kV9YphKyn5Ul9jBRiFq1iz8",
                authDomain: "storytale-9445a.firebaseapp.com",
                databaseURL: "https://storytale-9445a-default-rtdb.firebaseio.com",
                projectId: "storytale-9445a",
                storageBucket: "storytale-9445a.firebasestorage.app",
                messagingSenderId: "810989522601",
                appId: "1:810989522601:web:619a11b5d381980a7b23b8",
                measurementId: "G-XZKG6B4DZL"
            };

            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            const database = getDatabase(app);

            const reportsRef = ref(database, 'users');
            onValue(reportsRef, (snapshot) => {
                const reportsContainer = document.getElementById('reports');
                reportsContainer.innerHTML = ''; // Clear previous reports
                snapshot.forEach((childSnapshot) => {
                    const report = childSnapshot.val();
                    const reportElement = document.createElement('div');
                    reportElement.className = 'bg-white p-4 rounded-lg shadow-md';
                    reportElement.innerHTML = `
                     <div class="">
            <div class="box">
                        <h3>${report.text}</h3>
                        <a href="${report.imgtxt}">Lihat Gambar</a>
                        <p style="color: gray;">${report.date}<p/>
                </div>
                    `;
                    reportsContainer.appendChild(reportElement);
                });
            });

            
        </script>
    </body>
</html>
